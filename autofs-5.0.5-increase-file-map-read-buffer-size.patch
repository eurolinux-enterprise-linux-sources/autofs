autofs-5.0.5 - increase file map read buffer size

From: Ian Kent <raven@themaw.net>

The file map entry read buffer can be too small for larger
multi-mount map entries so increase it.
---

 CHANGELOG           |    1 +
 include/automount.h |    2 +-
 2 files changed, 2 insertions(+), 1 deletion(-)


--- autofs-5.0.5.orig/CHANGELOG
+++ autofs-5.0.5/CHANGELOG
@@ -122,6 +122,7 @@
 - fix init script status return.
 - use numeric protocol ids instead of protoent structs.
 - fix recursive mount deadlock.
+- increase file map read buffer size.
 
 03/09/2009 autofs-5.0.5
 -----------------------
--- autofs-5.0.5.orig/include/automount.h
+++ autofs-5.0.5/include/automount.h
@@ -232,7 +232,7 @@ int rmdir_path(struct autofs_point *ap,
 #define AUTOFS_LOOKUP_VERSION 5
 
 #define KEY_MAX_LEN    NAME_MAX
-#define MAPENT_MAX_LEN 4095
+#define MAPENT_MAX_LEN 16384
 #define PARSE_MAX_BUF	KEY_MAX_LEN + MAPENT_MAX_LEN + 2
 
 int lookup_nss_read_master(struct master *master, time_t age);
